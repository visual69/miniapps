<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Form Pembelian</title>
<link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&display=swap" rel="stylesheet">
<style>
    body {
        font-family: 'Comic Neue', cursive;
        background: #f4f6f8;
        padding: 20px;
        display: flex;
        justify-content: center;
    }
    .container {
        width: 100%;
        max-width: 450px;
        background: #fff;
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    .card {
        background: #fdfdfd;
        border: 1px solid #ddd;
        border-radius: 10px;
        padding: 12px;
        margin-bottom: 15px;
    }
    .card h3 {
        font-size: 14px;
        margin-bottom: 8px;
    }
    select, input {
        width: 100%;
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 8px;
        font-family: inherit;
        font-size: 14px;
    }
    .btn-type {
        display: flex;
        gap: 10px;
    }
    .btn-type button {
        flex: 1;
        padding: 10px;
        border: none;
        background: #e3e3e3;
        border-radius: 8px;
        cursor: pointer;
        font-family: inherit;
        font-size: 14px;
    }
    .btn-type button.active {
        background: #2196f3;
        color: white;
    }
    .btn-submit {
        width: 100%;
        padding: 10px;
        background: #4caf50;
        border: none;
        color: white;
        font-size: 16px;
        border-radius: 8px;
        cursor: pointer;
    }
    .qr-link {
        color: #2196f3;
        cursor: pointer;
        text-decoration: underline;
        font-size: 14px;
        display: block;
        margin-bottom: 5px;
    }
    /* Popup */
    .popup {
        display: none;
        position: fixed;
        top:0; left:0;
        width:100%; height:100%;
        background: rgba(0,0,0,0.5);
        justify-content: center;
        align-items: center;
    }
    .popup-content {
        background: white;
        padding: 20px;
        border-radius: 10px;
        max-width: 300px;
        text-align: center;
    }
    .popup button {
        margin-top: 10px;
        padding: 6px 12px;
        background: #2196f3;
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
    }
</style>
</head>
<body>
<div class="container">

    <!-- Pilih Type -->
    <div class="card">
        <h3>Pilih Kategori</h3>
        <div class="btn-type">
            <button id="btnCrypto" class="active">Crypto</button>
            <button id="btnGame">Game</button>
        </div>
    </div>

    <!-- Nominal & Token/Game -->
    <div class="card">
        <h3>Nominal (Rp)</h3>
        <input type="number" id="nominal" placeholder="Masukkan nominal">
        <h3>Pilih Token/Game</h3>
        <select id="tokenSelect">
            <option value="BNB">BNB</option>
            <option value="ETH">ETH</option>
            <option value="BASE">BASE</option>
            <option value="ARB">ARB</option>
            <option value="POLYGON">POLYGON</option>
            <option value="SUI">SUI</option>
            <option value="TON">TON</option>
        </select>
    </div>

    <!-- Estimasi -->
    <div class="card">
        <h3>Estimasi yang didapat:</h3>
        <div id="estimasi">0</div>
    </div>

    <!-- Address -->
    <div class="card">
        <h3>Address / User ID Tujuan</h3>
        <input type="text" id="address" placeholder="Masukkan address atau ID game">
    </div>

    <!-- Rekening & Bank -->
    <div class="card">
        <span class="qr-link" id="qrLink">QR Code</span>
        <h3>Nomor Rekening / E-wallet</h3>
        <input type="text" id="rekening" placeholder="Masukkan nomor rekening atau e-wallet">
        <h3>Pilih Bank/E-wallet</h3>
        <select id="bankSelect">
            <option value="BCA">BCA</option>
            <option value="BRI">BRI</option>
            <option value="Mandiri">Mandiri</option>
            <option value="Dana">Dana</option>
            <option value="Pulsa">Pulsa</option>
        </select>
    </div>

    <!-- Tombol Submit -->
    <button class="btn-submit" id="lanjutBtn">Lanjutkan</button>

</div>

<!-- Popup -->
<div class="popup" id="popup">
    <div class="popup-content">
        <p id="popupText">Keterangan transaksi akan muncul di sini.</p>
        <button id="closePopup">Tutup</button>
    </div>
</div>

<script>
    const btnCrypto = document.getElementById('btnCrypto');
    const btnGame = document.getElementById('btnGame');
    const tokenSelect = document.getElementById('tokenSelect');
    const nominalInput = document.getElementById('nominal');
    const estimasiEl = document.getElementById('estimasi');

    const ratesCrypto = {BNB: 6000000, ETH: 30000000, BASE: 20000, ARB: 15000, POLYGON: 12000, SUI: 10000, TON: 50000};
    const ratesGame = {PUBG: 100, "Free Fire": 50}; // harga per Rp 1000

    let currentType = 'Crypto';

    btnCrypto.onclick = () => {
        currentType = 'Crypto';
        btnCrypto.classList.add('active');
        btnGame.classList.remove('active');
        tokenSelect.innerHTML = Object.keys(ratesCrypto).map(c => `<option>${c}</option>`).join('');
        updateEstimasi();
    };
    btnGame.onclick = () => {
        currentType = 'Game';
        btnGame.classList.add('active');
        btnCrypto.classList.remove('active');
        tokenSelect.innerHTML = Object.keys(ratesGame).map(g => `<option>${g}</option>`).join('');
        updateEstimasi();
    };

    function updateEstimasi() {
        const nominal = parseFloat(nominalInput.value) || 0;
        const selected = tokenSelect.value;
        let hasil = 0;
        if (currentType === 'Crypto') {
            hasil = nominal / ratesCrypto[selected];
        } else {
            hasil = (nominal / 1000) * ratesGame[selected];
        }
        estimasiEl.textContent = hasil.toFixed(4) + ' ' + selected;
    }

    nominalInput.oninput = updateEstimasi;
    tokenSelect.onchange = updateEstimasi;

    // Popup QR Code
    const qrLink = document.getElementById('qrLink');
    const popup = document.getElementById('popup');
    const popupText = document.getElementById('popupText');
    const closePopup = document.getElementById('closePopup');
    qrLink.onclick = () => {
        popupText.textContent = "Tampilkan QR Code pembayaran di sini.";
        popup.style.display = 'flex';
    };
    document.getElementById('lanjutBtn').onclick = () => {
        popupText.textContent = "Transaksi sedang diproses...";
        popup.style.display = 'flex';
    };
    closePopup.onclick = () => popup.style.display = 'none';
</script>
</body>
</html>
